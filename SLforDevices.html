<!DOCTYPE html>
<html>
<head>
 <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <link rel="stylesheet" href="stylesheet.css" media="screen" title="no title" charset=“utf-8”>
  <title></title>
</head>
<body>
<div  width="75%" id ="list">	
</div>

<div id ="paginaVuota">
</div>

<script>
  var getUrlParameter = function getUrlParameter(sParam) {
    var sPageURL = decodeURIComponent(window.location.search.substring(1)),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

    for (i = 0; i < sURLVariables.length; i++) {
      sParameterName = sURLVariables[i].split('=');

      if (sParameterName[0] === sParam) {
        return sParameterName[1] === undefined ? true : sParameterName[1];
      }
    }
  };
  
  var id = getUrlParameter('id');
  var name = getUrlParameter('name');
  
  $.get('http://timwebs.altervista.org/SLforDeviceData.php?id=' + id,{
  }).done(function(gotData) {
    try{
     console.log(gotData);
      decoded = JSON.parse(gotData);
      
      if (Object.keys(decoded).length == 0){
      	$("#paginaVuota").append("<p> THERE ARE NO LINKS </p> <a href='SLservice.html?name="+name+"'> GO BACK</a>");
      }
       else{   
      for (var i = 0; i < Object.keys(decoded).length; i++){
          $("#list").append("<a href='device.html?id="+decoded[i].id + "'>"+"<img width='50em' src='/img/d_"+decoded[i].name+"_0.jpg'/>" + decoded[i].name + "</a>");
      
      
      	
      
      
      
      
      }
      }
      
    }catch (Exception) {
      console.log(Exception);
      return;
    };
  });
  
 

</script>

</body>
</html>